// v1.5.0: Internationalization support for English and Chinese

export const translations = {
  en: {
    // Auth pages
    welcomeToHamo: 'Welcome to Hamo',
    hamo: 'Hamo',
    yourPersonalTherapyCompanion: 'Your Personal AI Therapy Companion',
    signIn: 'Sign In',
    signUp: 'Sign Up',
    nickname: 'Nickname',
    yourDisplayName: 'Your display name',
    email: 'Email',
    emailPlaceholder: 'your@email.com',
    password: 'Password',
    passwordPlaceholder: '••••••••',
    invitationCode: 'Invitation Code',
    invitationCodeRequired: 'Required - Get this code from your Pro therapist',
    enterCodeFromTherapist: 'Enter code from your therapist',
    createAccount: 'Create Account',
    signingIn: 'Signing In...',
    creatingAccount: 'Creating Account...',
    invalidInvitationCode: 'Invalid Invitation Code',
    error: 'Error',
    checkWithTherapist: 'Please check with your therapist for the correct invitation code.',
    fillAllFields: 'Please fill in all fields',
    fillAllFieldsIncludingCode: 'Please fill in all fields including the invitation code',
    registrationFailed: 'Registration failed. Please try again.',
    loginFailed: 'Login failed. Please try again.',
    invalidEmailOrPassword: 'Invalid email or password',
    version: 'Version',

    // Chats page
    myAvatars: 'My Avatars',
    aTherapistAvatarWithAIRealMind: 'A Therapist Avatar with a Real AI Mind',
    noAvatarsConnected: 'No Avatars Connected',
    discoverAndConnect: 'Discover and connect with therapy avatars',
    discoverTherapists: 'Discover Therapists',
    discoverMoreTherapists: 'Discover More Therapists',
    noMessagesYet: 'No messages yet',
    you: 'You',

    // Chat view
    visibleToPro: 'Visible to Pro',
    hiddenFromPro: 'Hidden from Pro',
    typeYourMessage: 'Type your message...',

    // Discover page
    searchPlaceholder: 'Search by name, specialty, or therapy type...',
    popularSpecialties: 'Popular Specialties',
    searchResults: 'Search Results',
    recommendedForYou: 'Recommended for You',
    loadingTherapists: 'Loading therapists...',
    noTherapistsFound: 'No therapists found',
    noTherapistsAvailable: 'No therapists available yet',
    tryAdjustingSearch: 'Try adjusting your search or filters',
    clearFilters: 'Clear filters',
    sessions: 'sessions',
    rating: 'Rating',
    experience: 'Experience',
    specialty: 'Specialty',
    therapeuticApproach: 'Therapeutic Approach',
    about: 'About',
    specializations: 'Specializations',
    addToMyTherapists: 'Add to My Therapists',
    close: 'Close',
    avatarConnectedSuccess: 'Avatar connected successfully!',
    alreadyConnected: 'You are already connected with this avatar!',
    failedToConnect: 'Failed to connect with avatar. Please try again.',

    // Settings page
    settings: 'Settings',
    connectNewAvatar: 'Connect New Avatar',
    addWithInviteCode: 'Add with Invite Code',
    enterInviteCode: 'Enter invite code',
    connect: 'Connect',
    cancel: 'Cancel',
    profileSettings: 'Profile Settings',
    changeAvatar: 'Change Avatar',
    currentPassword: 'Current Password',
    newPassword: 'New Password',
    saveChanges: 'Save Changes',
    logOut: 'Log Out',
    deleteAccount: 'Delete Account',
    deleteAccountConfirm: 'Are you sure? This will permanently delete all your data and conversation history.',
    delete: 'Delete',
    contributors: 'Contributors',
    settingsUpdatedSuccess: 'Settings updated successfully!',
    failedToUpdateSettings: 'Failed to update settings. Please try again.',
    invalidInviteCodeAlert: 'Invalid invitation code',
    failedToDeleteAccount: 'Failed to delete account. Please try again.',

    // Navigation
    chats: 'Chats',
    discover: 'Discover',

    // Common
    na: 'N/A',

    // Specialties (for translation from backend values)
    depressionAnxiety: 'Depression & Anxiety',
    npdPersonality: 'NPD & Personality Disorders',
    familyCouples: 'Family & Couples Therapy',
    childAdolescent: 'Child & Adolescent Therapy',
    stressBurnout: 'Stress & Burnout',
    ptsdTrauma: 'PTSD & Trauma',
    substanceAbuse: 'Substance Abuse & Addiction',
    ocdAnxiety: 'OCD & Anxiety Disorders',

    // Therapeutic Approaches (for translation from backend values)
    cbt: 'Cognitive Behavioral Therapy',
    dbt: 'Dialectical Behaviour Therapy',
    familySystems: 'Family Systems Therapy',
    playTherapy: 'Play Therapy & Child Psychology',
    mindfulness: 'Mindfulness-Based Therapy',
    traumaFocused: 'Trauma-Focused Therapy',
    addictionRecovery: 'Addiction Recovery Therapy',
    act: 'Acceptance and Commitment Therapy',
  },

  zh: {
    // Auth pages
    welcomeToHamo: '欢迎使用 Hamo',
    hamo: 'Hamo',
    yourPersonalTherapyCompanion: '您的私人虚拟心理咨询师',
    signIn: '登录',
    signUp: '注册',
    nickname: '昵称',
    yourDisplayName: '您的显示名称',
    email: '邮箱',
    emailPlaceholder: 'your@email.com',
    password: '密码',
    passwordPlaceholder: '••••••••',
    invitationCode: '邀请码',
    invitationCodeRequired: '必填 - 请从您的咨询师处获取邀请码',
    enterCodeFromTherapist: '请输入咨询师提供的邀请码',
    createAccount: '创建账户',
    signingIn: '登录中...',
    creatingAccount: '创建账户中...',
    invalidInvitationCode: '无效的邀请码',
    error: '错误',
    checkWithTherapist: '请联系您的咨询师获取正确的邀请码。',
    fillAllFields: '请填写所有字段',
    fillAllFieldsIncludingCode: '请填写所有字段，包括邀请码',
    registrationFailed: '注册失败，请重试。',
    loginFailed: '登录失败，请重试。',
    invalidEmailOrPassword: '邮箱或密码错误',
    version: '版本',

    // Chats page
    myAvatars: '我的虚拟咨询师',
    aTherapistAvatarWithAIRealMind: '拥有真实AI心智的虚拟咨询师',
    noAvatarsConnected: '暂无连接的咨询师',
    discoverAndConnect: '发现并连接虚拟咨询师',
    discoverTherapists: '发现咨询师',
    discoverMoreTherapists: '发现更多咨询师',
    noMessagesYet: '暂无消息',
    you: '你',

    // Chat view
    visibleToPro: '咨询师可见',
    hiddenFromPro: '咨询师不可见',
    typeYourMessage: '输入消息...',

    // Discover page
    searchPlaceholder: '搜索姓名、专长或治疗方式...',
    popularSpecialties: '热门专长',
    searchResults: '搜索结果',
    recommendedForYou: '为您推荐',
    loadingTherapists: '加载咨询师中...',
    noTherapistsFound: '未找到咨询师',
    noTherapistsAvailable: '暂无可用的咨询师',
    tryAdjustingSearch: '请尝试调整搜索条件或筛选器',
    clearFilters: '清除筛选',
    sessions: '次咨询',
    rating: '评分',
    experience: '经验',
    specialty: '专长',
    therapeuticApproach: '治疗方法',
    about: '简介',
    specializations: '擅长领域',
    addToMyTherapists: '添加到我的咨询师',
    close: '关闭',
    avatarConnectedSuccess: '咨询师连接成功！',
    alreadyConnected: '您已经与此咨询师连接！',
    failedToConnect: '连接失败，请重试。',

    // Settings page
    settings: '设置',
    connectNewAvatar: '连接新咨询师',
    addWithInviteCode: '使用邀请码添加',
    enterInviteCode: '输入邀请码',
    connect: '连接',
    cancel: '取消',
    profileSettings: '个人资料设置',
    changeAvatar: '更换头像',
    currentPassword: '当前密码',
    newPassword: '新密码',
    saveChanges: '保存更改',
    logOut: '退出登录',
    deleteAccount: '删除账户',
    deleteAccountConfirm: '确定要删除吗？这将永久删除您的所有数据和对话记录。',
    delete: '删除',
    contributors: '贡献者',
    settingsUpdatedSuccess: '设置更新成功！',
    failedToUpdateSettings: '设置更新失败，请重试。',
    invalidInviteCodeAlert: '无效的邀请码',
    failedToDeleteAccount: '删除账户失败，请重试。',

    // Navigation
    chats: '对话',
    discover: '发现',

    // Common
    na: '暂无',

    // Specialties (for translation from backend values)
    depressionAnxiety: '抑郁与焦虑',
    npdPersonality: '自恋型及人格障碍',
    familyCouples: '家庭与婚姻咨询',
    childAdolescent: '儿童与青少年咨询',
    stressBurnout: '压力与倦怠',
    ptsdTrauma: 'PTSD 与创伤',
    substanceAbuse: '物质滥用与成瘾',
    ocdAnxiety: '强迫症与焦虑障碍',

    // Therapeutic Approaches (for translation from backend values)
    cbt: '认知行为疗法',
    dbt: '辩证行为疗法',
    familySystems: '家庭系统疗法',
    playTherapy: '游戏治疗与儿童心理学',
    mindfulness: '正念疗法',
    traumaFocused: '聚焦创伤疗法',
    addictionRecovery: '成瘾康复疗法',
    act: '接纳承诺疗法',
  }
};

// Language switcher component
export const LanguageSwitcher = ({ language, setLanguage }) => (
  <div className="flex items-center space-x-2">
    <svg className="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
    </svg>
    <div className="flex bg-gray-100 rounded-lg p-0.5">
      <button
        onClick={() => setLanguage('en')}
        className={`px-2 py-1 text-xs font-medium rounded-md transition ${
          language === 'en'
            ? 'bg-white text-gray-900 shadow-sm'
            : 'text-gray-500 hover:text-gray-700'
        }`}
      >
        EN
      </button>
      <button
        onClick={() => setLanguage('zh')}
        className={`px-2 py-1 text-xs font-medium rounded-md transition ${
          language === 'zh'
            ? 'bg-white text-gray-900 shadow-sm'
            : 'text-gray-500 hover:text-gray-700'
        }`}
      >
        中文
      </button>
    </div>
  </div>
);

// Specialty value to translation key mapping
const specialtyMap = {
  'depression_anxiety': 'depressionAnxiety',
  'npd_personality': 'npdPersonality',
  'family_couples': 'familyCouples',
  'child_adolescent': 'childAdolescent',
  'stress_burnout': 'stressBurnout',
  'ptsd_trauma': 'ptsdTrauma',
  'substance_abuse': 'substanceAbuse',
  'ocd_anxiety': 'ocdAnxiety',
};

// Therapeutic approach value to translation key mapping
const approachMap = {
  'cbt': 'cbt',
  'dbt': 'dbt',
  'family_systems': 'familySystems',
  'play_therapy': 'playTherapy',
  'mindfulness': 'mindfulness',
  'trauma_focused': 'traumaFocused',
  'addiction_recovery': 'addictionRecovery',
  'act': 'act',
};

// Hook to get translation function
export const useTranslation = (language) => {
  const t = (key) => translations[language]?.[key] || translations.en[key] || key;

  // Helper function to get translated specialty label from backend value
  const getSpecialtyLabel = (value) => {
    if (!value) return '';
    const translationKey = specialtyMap[value];
    if (translationKey) {
      return translations[language]?.[translationKey] || translations.en[translationKey] || value;
    }
    return value; // Return original value if not found (for custom or legacy)
  };

  // Helper function to get translated therapeutic approach label from backend value
  const getApproachLabel = (value) => {
    if (!value) return '';
    const translationKey = approachMap[value];
    if (translationKey) {
      return translations[language]?.[translationKey] || translations.en[translationKey] || value;
    }
    return value; // Return original value if not found (for custom or legacy)
  };

  return { t, getSpecialtyLabel, getApproachLabel };
};
